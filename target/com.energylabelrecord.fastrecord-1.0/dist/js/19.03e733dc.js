(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{A8NG:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("草稿箱")]),t._v(" "),a("Form",{ref:"formDraft",attrs:{model:t.formDraft,inline:""}},[a("FormItem",[a("Select",{staticStyle:{width:"300px"},attrs:{placeholder:"选择品类"},model:{value:t.formDraft.category_id,callback:function(e){t.$set(t.formDraft,"category_id",e)},expression:"formDraft.category_id"}},t._l(t.categoryList,function(e){return a("Option",{key:e.ec_model_no,attrs:{value:e.ec_model_no}},[t._v(t._s(e.ec_model_title))])}))],1),t._v(" "),a("FormItem",[a("Input",{attrs:{type:"text",placeholder:"产品型号"},model:{value:t.formDraft.model_name,callback:function(e){t.$set(t.formDraft,"model_name",e)},expression:"formDraft.model_name"}})],1),t._v(" "),a("FormItem",[a("Input",{attrs:{type:"text",placeholder:"实验室报告条码"},model:{value:t.formDraft.bar_code,callback:function(e){t.$set(t.formDraft,"bar_code",e)},expression:"formDraft.bar_code"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.searchFun}},[t._v("搜索")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.clearFun}},[t._v("清空")])],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.recordData}}),t._v(" "),a("Page",{staticStyle:{"margin-top":"10px","text-align":"right"},attrs:{total:t.total,"page-size":10},on:{"on-change":t.changeList}})],1)},o=[],n=(a("VRzm"),a("vDqi")),i=a.n(n),c={data:function(){var t=this;return{total:0,formDraft:{category_id:"",model_name:"",bar_code:"",pageSize:10,pageNum:1},categoryList:[{ec_model_no:"47",ec_model_title:"家用电冰箱 2015版"}],columns1:[{title:"大类",key:"category_name",align:"center"},{title:"型号",key:"model_name",align:"center"},{title:"实验室报告条码",key:"bar_code",align:"center"},{title:"备案类型",key:"type",align:"center",render:function(t,e){return t("span",{},"0"===e.row.type?"主型号":"1"===e.row.state?"扩展":"2"===e.row.state?"变更":"")}},{title:"状态",key:"state",align:"center",render:function(t,e){return t("span",{},1===e.row.state?"草稿":2===e.row.state?"标识图制作中":3===e.row.state?"数据同步中":10===e.row.state?"已公告":"")}},{title:"操作",key:"action",align:"center",render:function(e,a){return e("Button",{props:{type:"primary",size:"small"},on:{click:function(){t.editFun(a.row.id)}}},"继续填写")}}],recordData:[]}},mounted:function(){this.getCategoryList(),this.reqData()},methods:{reqData:function(){var t=this;i.a.get("/marking/draftList.do",{params:this.formDraft}).then(function(e){t.recordData=e.data.list,t.total=e.data.total})},editFun:function(t){var e=this;i.a.get("/marking/getDraftInfo.do",{params:{id:t}}).then(function(t){"1"===t.data.result_code?(e.$router.push({name:"addRecord",params:{step:3,draftData:t.data}}),e.$store.commit("setDateInit",t.data.lab.upddate),e.$store.commit("setModelNo",t.data.marking.ec_model_no)):e.$Message.warning(t.data.return_msg)})},searchFun:function(){this.formDraft.pageNum=1,this.reqData()},clearFun:function(){this.formDraft.category_id="",this.formDraft.model_name="",this.formDraft.bar_code="",this.searchFun()},changeList:function(t){this.formDraft.pageNum=t,this.reqData()},getCategoryList:function(){var t=this;i.a.get("/marking/getCategoryList.do").then(function(e){"1"===e.data.result_code&&(t.categoryList=e.data.data)})}}},s=c,l=a("KHd+"),m=Object(l["a"])(s,r,o,!1,null,null,null);e["default"]=m.exports}}]);